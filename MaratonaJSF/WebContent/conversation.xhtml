<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html   xmlns="http://www.w3.org/1999/xhtml" 
		xmlns:h="http://java.sun.com/jsf/html" 
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:f="http://xmlns.jcp.org/jsf/core"> 
<h:head>
<!-- Chama esse método quando a aplicação sobe -->
	<f:metadata>
		<f:viewAction action="#{conversationScopedBean.init}"></f:viewAction>
	</f:metadata>
</h:head>
<h:body>
<h1>@ConversationScoped</h1>
	<h:form id="form">
		<h:outputLabel value="#{conversationScopedBean.personagemSelecionado}"/><br/>
		<h:commandButton value="Selecionar Personagem" actionListener="#{conversationScopedBean.selecionarPersonagem()}"/><br/>
		<h:commandButton value="Finalizar Conversation Scoped" action="#{conversationScopedBean.endConversation()}"/><br/>
		
		<!-- Com links temos que mandar param p páginas -->
		<h:link outcome="conversation2" value="Vá para conversation2">
			<f:param name="cid" value="#{conversationScopedBean.conversation.id}" rendered="#{!conversationScopedBean.conversation.transient}"></f:param>
		</h:link>
	</h:form>
</h:body>
</html>